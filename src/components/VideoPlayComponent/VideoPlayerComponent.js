import React from 'react'
import { imageNightMode, NSFWNightModeFilter } from '../menu/NightMode/nightModeFunction';

import './VideoPlayerComponent.css';

export const VideoPlayerComponent = (props) => {

    const [playing, togglePlaying] = React.useState(false);

    const [muted, toggleMuted] = React.useState(false);

    const mute = (e) => {
        try {
            e.stopPropagation();
            if (muted) {
                document.getElementById(props.video).muted = false;
                toggleMuted(false)
            } else {
                document.getElementById(props.video).muted = true;
                toggleMuted(true)
            }
        } catch (error) {
            return;
        }
    }

    const play = (e) => {
        try {
            e.stopPropagation();
            if (playing) {
                document.getElementById(props.video).pause();
                togglePlaying(false);
            } else {
                document.getElementById(props.video).play();
                togglePlaying(true);
            }
        } catch (error) {
            return;
        }
    }

    return (
        <div className="video-player-component-container">
            <div onClick={play} className="play-pause-hidden-element"></div>
            <video style={{filter: props.inFeed ? NSFWNightModeFilter(props.nsfw, props.blurNsfw) : imageNightMode()}} id={props.video} src={props.video} />
            {!playing ? <svg className="video-play-button" width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M25 42C15.6 42 8 34.4 8 25C8 15.6 15.6 8 25 8C34.4 8 42 15.6 42 25C42 34.4 34.4 42 25 42ZM25 10C16.7 10 10 16.7 10 25C10 33.3 16.7 40 25 40C33.3 40 40 33.3 40 25C40 16.7 33.3 10 25 10Z" fill="black"/>
<path d="M20 33.7V16.3L35 25L20 33.7ZM22 19.7V30.2L31 24.9L22 19.7Z" fill="black"/>
</svg>
            : null}
            {!muted ? <svg onClick={mute} className="audio-playing" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fillRule="evenodd" clipRule="evenodd" d="M7.71555 3.03172C7.80016 3.06109 7.8721 3.10914 7.9226 3.17003C7.9731 3.23093 7.99999 3.30204 8 3.37472V11.6248C8.00006 11.6974 7.97323 11.7686 7.92276 11.8295C7.8723 11.8905 7.80038 11.9386 7.71576 11.968C7.63114 11.9974 7.53747 12.0068 7.44614 11.9951C7.35481 11.9835 7.26977 11.9512 7.20136 11.9023L3.83818 9.49974H2.11364C1.81828 9.49974 1.53502 9.40756 1.32618 9.24346C1.11733 9.07937 1 8.85681 1 8.62474V6.37473C1 5.89173 1.49891 5.49973 2.11364 5.49973H3.83818L7.20136 3.09722C7.26985 3.04842 7.3549 3.0163 7.44618 3.00476C7.53746 2.99322 7.63104 3.00276 7.71555 3.03222V3.03172ZM7.04545 4.22223L4.34409 6.15223C4.25615 6.21503 4.14156 6.2498 4.02273 6.24973H2.11364C2.07144 6.24973 2.03098 6.2629 2.00114 6.28634C1.97131 6.30979 1.95455 6.34158 1.95455 6.37473V8.62474C1.95455 8.69374 2.02582 8.74974 2.11364 8.74974H4.02273C4.14156 8.74967 4.25615 8.78444 4.34409 8.84724L7.04545 10.7772V4.22223Z" fill="black"/>
<path d="M11.1462 4.0961C11.2399 4.03456 11.367 4 11.4994 4C11.6319 4 11.7589 4.03456 11.8526 4.0961C14.7158 5.97835 14.7158 9.02956 11.8526 10.9118C11.7579 10.9699 11.6326 11.0015 11.5031 10.9999C11.3736 10.9984 11.25 10.964 11.1584 10.9038C11.0669 10.8435 11.0144 10.7623 11.0121 10.6772C11.0098 10.5921 11.0579 10.5097 11.1462 10.4474C11.7342 10.0609 12.2007 9.60198 12.5189 9.09695C12.8371 8.59191 13.0009 8.05061 13.0009 7.50395C13.0009 6.9573 12.8371 6.416 12.5189 5.91096C12.2007 5.40592 11.7342 4.94705 11.1462 4.56053C11.0526 4.49892 11 4.4154 11 4.32832C11 4.24124 11.0526 4.15772 11.1462 4.0961V4.0961Z" fill="black"/>
<path d="M10.4217 6.07402C10.3988 6.05055 10.3715 6.03194 10.3416 6.01924C10.3116 6.00654 10.2795 6 10.247 6C10.2146 6 10.1825 6.00654 10.1525 6.01924C10.1225 6.03194 10.0953 6.05055 10.0724 6.07402C10.0494 6.09749 10.0312 6.12535 10.0188 6.15601C10.0064 6.18667 10 6.21953 10 6.25272C10 6.28591 10.0064 6.31877 10.0188 6.34943C10.0312 6.38009 10.0494 6.40795 10.0724 6.43142C10.21 6.57218 10.3191 6.73928 10.3936 6.92319C10.468 7.1071 10.5064 7.30421 10.5064 7.50328C10.5064 7.70234 10.468 7.89945 10.3936 8.08336C10.3191 8.26727 10.21 8.43438 10.0724 8.57513C10.0287 8.62303 10.005 8.68637 10.0061 8.75182C10.0072 8.81727 10.0332 8.87972 10.0784 8.926C10.1237 8.97229 10.1847 8.99881 10.2487 8.99996C10.3127 9.00112 10.3746 8.97682 10.4214 8.9322C10.7919 8.55317 11 8.03911 11 7.50311C11 6.9671 10.7919 6.45305 10.4214 6.07402H10.4217Z" fill="black"/>
</svg>
            : <svg  onClick={mute} className="audio-muted" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M6.717 3.55C6.80171 3.59081 6.8732 3.65467 6.92326 3.73427C6.97332 3.81387 6.99991 3.90597 7 4V12C6.99987 12.0941 6.97319 12.1862 6.92303 12.2658C6.87288 12.3454 6.80128 12.4093 6.71647 12.45C6.63166 12.4907 6.53708 12.5067 6.4436 12.4961C6.35011 12.4855 6.26152 12.4487 6.188 12.39L3.825 10.5H1.5C1.36739 10.5 1.24021 10.4473 1.14645 10.3536C1.05268 10.2598 1 10.1326 1 10V6C1 5.86739 1.05268 5.74021 1.14645 5.64644C1.24021 5.55268 1.36739 5.5 1.5 5.5H3.825L6.188 3.61C6.26157 3.55118 6.35026 3.51435 6.44385 3.50374C6.53744 3.49312 6.63212 3.50916 6.717 3.55V3.55ZM6 5.04L4.312 6.39C4.22349 6.461 4.11347 6.49979 4 6.5H2V9.5H4C4.11347 9.5002 4.22349 9.53899 4.312 9.61L6 10.96V5.04ZM13.854 5.646C13.9006 5.69244 13.9375 5.74762 13.9627 5.80836C13.9879 5.86911 14.0009 5.93423 14.0009 6C14.0009 6.06576 13.9879 6.13089 13.9627 6.19163C13.9375 6.25238 13.9006 6.30755 13.854 6.354L9.854 10.354C9.76011 10.4479 9.63278 10.5006 9.5 10.5006C9.36722 10.5006 9.23989 10.4479 9.146 10.354C9.05211 10.2601 8.99937 10.1328 8.99937 10C8.99937 9.86722 9.05211 9.73988 9.146 9.646L13.146 5.646C13.1924 5.59943 13.2476 5.56249 13.3084 5.53728C13.3691 5.51208 13.4342 5.4991 13.5 5.4991C13.5658 5.4991 13.6309 5.51208 13.6916 5.53728C13.7524 5.56249 13.8076 5.59943 13.854 5.646V5.646Z" fill="black"/>
            <path fillRule="evenodd" clipRule="evenodd" d="M9.14592 5.64599C9.09935 5.69244 9.06241 5.74761 9.0372 5.80836C9.012 5.8691 8.99902 5.93423 8.99902 5.99999C8.99902 6.06576 9.012 6.13088 9.0372 6.19163C9.06241 6.25237 9.09935 6.30755 9.14592 6.35399L13.1459 10.354C13.1924 10.4005 13.2476 10.4374 13.3083 10.4625C13.3691 10.4877 13.4342 10.5006 13.4999 10.5006C13.5657 10.5006 13.6308 10.4877 13.6915 10.4625C13.7522 10.4374 13.8074 10.4005 13.8539 10.354C13.9004 10.3075 13.9373 10.2523 13.9624 10.1916C13.9876 10.1308 14.0005 10.0657 14.0005 9.99999C14.0005 9.93425 13.9876 9.86915 13.9624 9.80841C13.9373 9.74767 13.9004 9.69248 13.8539 9.64599L9.85392 5.64599C9.80747 5.59943 9.7523 5.56249 9.69155 5.53728C9.63081 5.51207 9.56568 5.4991 9.49992 5.4991C9.43415 5.4991 9.36903 5.51207 9.30828 5.53728C9.24754 5.56249 9.19236 5.59943 9.14592 5.64599V5.64599Z" fill="black"/>
            </svg>
            }
        </div>
    )
}
